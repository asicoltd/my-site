<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thought Reflections</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: radial-gradient(circle at center, #1b2735 0%, #050508 100%);
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            position: relative;
        }

        /* Animated Star Field */
        body::before {
            content: "";
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background-image: 
                radial-gradient(1px 1px at 20px 30px, #fff, transparent),
                radial-gradient(1.5px 1.5px at 150px 40px, #fff, transparent),
                radial-gradient(2px 2px at 100px 100px, rgba(255,255,255,0.4), transparent),
                radial-gradient(1px 1px at 250px 250px, #fff, transparent);
            background-size: 400px 400px;
            animation: moveStars 120s linear infinite;
            opacity: 0.4;
            z-index: 0;
        }

        @keyframes moveStars {
            from { transform: translate(0, 0); }
            to { transform: translate(-400px, -400px); }
        }

        /* Main Content Styling */
        .main-content {
            text-align: center;
            color: white;
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
            z-index: 2;
            position: relative;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .main-content h1 {
            font-size: 48px;
            margin-bottom: 20px;
            letter-spacing: 2px;
            text-shadow: 0 0 20px rgba(183, 196, 255, 0.6);
        }

        .main-content p {
            font-size: 20px;
            opacity: 0.8;
            margin-bottom: 40px;
            max-width: 600px;
        }

        /* Start button */
        .reset-btn {
            background: transparent;
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 18px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
            position: relative;
            z-index: 2;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .reset-btn:hover {
            background: white;
            color: #050508;
            box-shadow: 0 0 30px rgba(255,255,255,0.4);
            transform: translateY(-3px);
        }

        /* Overlay */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(12px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        /* The Galaxy Box Modal */
        .modal-content {
            background: 
                radial-gradient(circle at 10% 90%, rgba(81, 58, 119, 0.4) 0%, transparent 45%),
                radial-gradient(circle at 90% 10%, rgba(4, 43, 31, 0.4) 0%, transparent 45%),
                #0a0a0c;
            padding: 45px;
            border-radius: 24px;
            max-width: 550px;
            width: 90%;
            text-align: center;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 0 60px rgba(81, 58, 119, 0.2), 
                inset 0 0 50px rgba(0, 0, 0, 0.9);
            animation: modalPop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            color: white;
        }

        @keyframes modalPop {
            from { opacity: 0; transform: scale(0.8) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #666;
            transition: all 0.3s;
        }

        .close-btn:hover { 
            color: #fff; 
            transform: rotate(90deg); 
        }

        /* Question Area */
        .question-icon {
            font-size: 60px;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.3));
        }

        .question-category {
            font-size: 13px;
            color: #b7c4ff;
            margin-bottom: 12px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .question-title {
            font-size: 24px;
            color: #f0f0ff;
            margin-bottom: 35px;
            line-height: 1.5;
            text-shadow: 0 0 15px rgba(118, 75, 162, 0.4);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Response Area */
        .response-area {
            margin-top: 20px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 18px;
            border-left: 4px solid #513a77;
            text-align: center;
        }

        .response-text {
            font-size: 18px;
            color: #d1d1ff;
            line-height: 1.7;
            margin-bottom: 20px;
            font-style: italic;
        }

        .response-icon {
            font-size: 50px;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.3));
        }

        /* Statistics Area */
        .stats-area {
            margin-top: 20px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 18px;
            border-left: 4px solid #764ba2;
            text-align: center;
        }

        .stats-icon {
            font-size: 60px;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.3));
        }

        .match-percentage {
            font-size: 48px;
            font-weight: bold;
            color: #b7c4ff;
            margin: 20px 0;
            text-shadow: 0 0 20px rgba(183, 196, 255, 0.6);
        }

        .match-level {
            font-size: 24px;
            color: #f0f0ff;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .match-description {
            font-size: 18px;
            color: #d1d1ff;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .match-details {
            font-size: 14px;
            color: #b7c4ff;
            opacity: 0.8;
            margin-top: 20px;
        }

        /* Cosmic Buttons */
        .options-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 25px;
        }

        .option-btn {
            background: linear-gradient(135deg, #1b2735 0%, #3a2a54 100%);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 16px 32px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 140px;
            font-weight: 600;
        }

        .option-btn:hover {
            transform: translateY(-3px);
            background: linear-gradient(135deg, #2c3e50 0%, #513a77 100%);
            box-shadow: 0 0 20px rgba(81, 58, 119, 0.6);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .yes-btn {
            background: linear-gradient(135deg, #00c853 0%, #4CAF50 100%);
        }

        .no-btn {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
        }

        .next-btn {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        /* Stats */
        .stats {
            margin-top: 40px;
            font-size: 14px;
            color: #b7c4ff;
            opacity: 0.6;
        }

        .hidden { 
            display: none; 
        }

        /* Progress */
        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin: 20px 0 35px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #764ba2, #667eea);
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            color: #b7c4ff;
            font-size: 14px;
            margin-bottom: 10px;
            text-align: center;
        }

        @media (max-width: 600px) {
            .main-content h1 { 
                font-size: 32px; 
            }
            .main-content p { 
                font-size: 18px; 
                padding: 0 20px;
            }
            .modal-content { 
                padding: 30px 20px; 
            }
            .question-title { 
                font-size: 22px; 
            }
            .response-text {
                font-size: 16px;
            }
            .match-percentage {
                font-size: 36px;
            }
            .match-level {
                font-size: 20px;
            }
            .match-description {
                font-size: 16px;
            }
            .options-container {
                flex-direction: column;
                align-items: center;
            }
            .option-btn {
                width: 100%;
                max-width: 250px;
            }
        }
    </style>
</head>
<body>

<div class="main-content">
    <h1>Thought Reflections</h1>
    <p>Discover shared perspectives through meaningful questions</p>
    <button class="reset-btn" onclick="startConversation()">Begin Reflection</button>
    <div class="stats">
        Sessions today: <span id="sessionCount">0</span>
    </div>
</div>

<div class="modal-overlay" id="modalOverlay">
    <div class="modal-content">
        <button class="close-btn" onclick="showStatistics()">&times;</button>
        
        <!-- Question Area -->
        <div id="questionArea">
            <div class="question-icon" id="questionIcon">ðŸ’­</div>
            <div class="question-category" id="questionCategory">Perspective Check</div>
            
            <div class="progress-text">Question <span id="currentQuestion">1</span> of <span id="totalQuestions">5</span></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <h2 class="question-title" id="questionTitle"></h2>
            <div class="options-container">
                <button class="option-btn yes-btn" onclick="respond(true)">Yes</button>
                <button class="option-btn no-btn" onclick="respond(false)">Not Yet</button>
            </div>
        </div>
        
        <!-- Response Area -->
        <div id="responseArea" class="response-area hidden">
            <div class="response-icon" id="responseIcon">âœ¨</div>
            <div class="response-text" id="responseText"></div>
            <div class="options-container" style="margin-top:25px;">
                <button class="option-btn next-btn" onclick="nextQuestion()">Next Question</button>
                <button class="option-btn" style="background:transparent;" onclick="showStatistics()">See Results</button>
            </div>
        </div>
        
        <!-- Statistics Area -->
        <div id="statisticsArea" class="stats-area hidden">
            <div class="stats-icon" id="statsIcon">ðŸ“Š</div>
            <div class="match-percentage" id="matchPercentage">0%</div>
            <div class="match-level" id="matchLevel"></div>
            <div class="match-description" id="matchDescription"></div>
            <div class="match-details" id="matchDetails"></div>
            <div class="options-container" style="margin-top:25px;">
                <button class="option-btn next-btn" onclick="restartConversation()">Start Over</button>
                <button class="option-btn" style="background:transparent;" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
const interactions = [
  {
    statement: "I enjoy developing AI systems that solve real problems. Do you feel the same?",
    yesReply: "Me too. I like how AI mixes logic, creativity, and real impact.",
    noReply: "That's totally fine. AI can feel complex at first, but it becomes interesting once you see real-world use cases.",
    icon: "ðŸ¤–"
  },
  {
    statement: "I enjoy research and experimenting with new ideas. What about you?",
    yesReply: "Same here. Experimenting is how most good ideas are born.",
    noReply: "That's okay. Even practical work benefits from a little curiosity now and then.",
    icon: "ðŸ”¬"
  },
  {
    statement: "I donate blood every 4 months whenever I can. Have you ever donated?",
    yesReply: "That's really admirable. Respect to you for doing that.",
    noReply: "If you ever feel comfortable and have no health issues, you should try it once. It's a small act that can save someone's life.",
    icon: "â¤ï¸"
  },
  {
    statement: "I believe learning should never stop. Do you agree?",
    yesReply: "Me too. Staying curious keeps life interesting.",
    noReply: "That's understandable. Learning doesn't have to be intense. Even small steps count.",
    icon: "ðŸ“š"
  },
  {
    statement: "I enjoy building things even if they fail at first. How about you?",
    yesReply: "Same here. Failure usually teaches more than success.",
    noReply: "That's fair. Starting is often the hardest part, but progress comes with time.",
    icon: "âš¡"
  },
  {
    statement: "I participate in marathons regularly. Do you like running?",
    yesReply: "Awesome! Running clears the mind and challenges the body.",
    noReply: "That's fine. There are many ways to stay active and healthy.",
    icon: "ðŸƒâ€â™‚ï¸"
  },
  {
    statement: "I enjoy debating and public speaking. Have you ever tried it?",
    yesReply: "Great! Expressing ideas clearly is a superpower.",
    noReply: "No worries. Listening carefully is also a key skill.",
    icon: "ðŸ—£ï¸"
  },
  {
    statement: "I experiment with blockchain and cryptocurrencies. Interested in that too?",
    yesReply: "Cool! Blockchain is reshaping tech in exciting ways.",
    noReply: "That's fine. It's a complex field, but still fascinating.",
    icon: "â›“ï¸"
  },
  {
    statement: "I enjoy programming in multiple languages and building projects. How about you?",
    yesReply: "Nice! Coding allows creating things from scratch.",
    noReply: "That's okay. Everyone has their own way to create and solve problems.",
    icon: "ðŸ’»"
  },
  {
    statement: "I practice martial arts like Karate and Taekwondo. Ever trained in martial arts?",
    yesReply: "Impressive! Martial arts build discipline and focus.",
    noReply: "That's alright. There are many ways to build discipline and fitness.",
    icon: "ðŸ¥‹"
  },
  {
    statement: "I love working with Raspberry Pi and electronics projects. Do you enjoy tinkering?",
    yesReply: "Awesome! Hands-on projects are always rewarding.",
    noReply: "That's fine. Watching and learning can be just as inspiring.",
    icon: "ðŸ› ï¸"
  },
  {
    statement: "I enjoy networking and HAM radio projects. Are you into communications tech?",
    yesReply: "Cool! Amateur radio is a fun way to connect and experiment.",
    noReply: "No problem. Not everyone dives into tech in the same way.",
    icon: "ðŸ“¡"
  },
  {
    statement: "I like creating deep learning models for prediction and classification tasks. Do you work with ML/AI?",
    yesReply: "Excellent! ML is a fascinating field with endless possibilities.",
    noReply: "That's okay. Not everyone needs to be a data scientist to innovate.",
    icon: "ðŸ§ "
  },
  {
    statement: "I enjoy contributing to community service and scouting activities. Have you done volunteering?",
    yesReply: "That's wonderful! Helping others is always meaningful.",
    noReply: "That's fine. There are many ways to make a positive impact.",
    icon: "ðŸ¤"
  },
  {
    statement: "I organize tech events and hackathons. Do you like attending or organizing events?",
    yesReply: "Nice! Events are great for learning and networking.",
    noReply: "That's alright. Watching or participating in small ways also counts.",
    icon: "ðŸŽ‰"
  },
  {
    statement: "I like analyzing stock and crypto markets using AI. Do you do market research?",
    yesReply: "Cool! Predictive analytics is really exciting.",
    noReply: "No problem. Not everyone dives into finance, but itâ€™s interesting to observe.",
    icon: "ðŸ“ˆ"
  },
  {
    statement: "I enjoy creating web applications and interactive UIs. Do you like front-end or full-stack dev?",
    yesReply: "Great! Building interactive apps is fun and rewarding.",
    noReply: "That's okay. Backend or other skills are equally valuable.",
    icon: "ðŸŒ"
  },
  {
    statement: "Iâ€™m passionate about continuous self-improvement and challenges. Are you too?",
    yesReply: "Awesome! Personal growth keeps life exciting.",
    noReply: "That's fine. Everyone grows at their own pace.",
    icon: "ðŸš€"
  },
  {
    statement: "I love tackling competitive programming problems. Do you enjoy problem-solving?",
    yesReply: "Impressive! Problem-solving strengthens logical thinking.",
    noReply: "That's alright. There are many ways to challenge the mind.",
    icon: "ðŸ§©"
  }
];


let currentQuestionIndex = 0;
let showingResponse = false;
let userAnswers = [];
let sessionAnsweredQuestions = 0;

// DOM Elements
const questionArea = document.getElementById('questionArea');
const responseArea = document.getElementById('responseArea');
const statisticsArea = document.getElementById('statisticsArea');
const questionIcon = document.getElementById('questionIcon');
const questionTitle = document.getElementById('questionTitle');
const responseIcon = document.getElementById('responseIcon');
const responseText = document.getElementById('responseText');
const currentQuestionSpan = document.getElementById('currentQuestion');
const totalQuestionsSpan = document.getElementById('totalQuestions');
const progressFill = document.getElementById('progressFill');
const sessionCountSpan = document.getElementById('sessionCount');
const matchPercentage = document.getElementById('matchPercentage');
const matchLevel = document.getElementById('matchLevel');
const matchDescription = document.getElementById('matchDescription');
const matchDetails = document.getElementById('matchDetails');
const statsIcon = document.getElementById('statsIcon');

function startConversation() {
    document.getElementById('modalOverlay').style.display = 'flex';
    currentQuestionIndex = 0;
    showingResponse = false;
    userAnswers = [];
    sessionAnsweredQuestions = 0;
    showQuestion();
}

function showQuestion() {
    if (currentQuestionIndex >= interactions.length) {
        showStatistics();
        return;
    }
    
    const question = interactions[currentQuestionIndex];
    
    // Update question UI
    questionIcon.textContent = question.icon;
    questionTitle.textContent = question.statement;
    currentQuestionSpan.textContent = currentQuestionIndex + 1;
    totalQuestionsSpan.textContent = interactions.length;
    
    // Update progress bar
    const progress = ((currentQuestionIndex + 1) / interactions.length) * 100;
    progressFill.style.width = `${progress}%`;
    
    // Show question area, hide other areas
    questionArea.classList.remove('hidden');
    responseArea.classList.add('hidden');
    statisticsArea.classList.add('hidden');
}

function respond(isYes) {
    if (showingResponse) return;
    
    const question = interactions[currentQuestionIndex];
    
    // Store user answer
    userAnswers.push(isYes);
    sessionAnsweredQuestions++;
    
    // Update response UI
    responseIcon.textContent = isYes ? "âœ¨" : "ðŸ’¡";
    responseText.textContent = isYes ? question.yesReply : question.noReply;
    
    // Show response area, hide question area
    questionArea.classList.add('hidden');
    responseArea.classList.remove('hidden');
    statisticsArea.classList.add('hidden');
    
    showingResponse = true;
}

function nextQuestion() {
    currentQuestionIndex++;
    showingResponse = false;
    
    if (currentQuestionIndex < interactions.length) {
        showQuestion();
    } else {
        showStatistics();
    }
}

function calculateMatchPercentage() {
    if (userAnswers.length === 0) return 0;
    const yesCount = userAnswers.filter(answer => answer === true).length;
    const percentage = Math.round((yesCount / userAnswers.length) * 100);
    return percentage;
}

function getMatchInfo(percentage) {
    let icon, level, description, details;
    
    if (percentage === 100) {
        icon = "ðŸŒŸ";
        level = "Perfect Match!";
        description = "Our minds are completely in sync! It's rare to find someone with such identical perspectives.";
        details = `You agreed on all ${userAnswers.length} questions.`;
    } 
    else if (percentage >= 80) {
        icon = "âœ¨";
        level = "Very High Match";
        description = "We share most perspectives! Our thoughts align beautifully on many important topics.";
        details = `You agreed on ${Math.round(userAnswers.length * percentage/100)} out of ${userAnswers.length} questions.`;
    }
    else if (percentage >= 60) {
        icon = "ðŸ’«";
        level = "Good Match";
        description = "We have significant common ground! There's plenty of room for both shared views and interesting differences.";
        details = `You agreed on ${Math.round(userAnswers.length * percentage/100)} out of ${userAnswers.length} questions.`;
    }
    else if (percentage >= 40) {
        icon = "âš–ï¸";
        level = "Moderate Match";
        description = "We have a balanced mix of similarities and differences! This creates the most interesting conversations.";
        details = `You agreed on ${Math.round(userAnswers.length * percentage/100)} out of ${userAnswers.length} questions.`;
    }
    else if (percentage >= 20) {
        icon = "ðŸŒ€";
        level = "Low Match";
        description = "Our differences make this conversation more valuable! Diverse perspectives lead to greater understanding.";
        details = `You agreed on ${Math.round(userAnswers.length * percentage/100)} out of ${userAnswers.length} questions.`;
    }
    else if (percentage > 0) {
        icon = "ðŸŒŒ";
        level = "Very Low Match";
        description = "Completely different perspectives! This shows how beautifully diverse human thinking can be.";
        details = `You agreed on only ${Math.round(userAnswers.length * percentage/100)} out of ${userAnswers.length} questions.`;
    }
    else {
        icon = "ðŸŒ ";
        level = "No Match Found";
        description = "Opposite perspectives across the board! This creates the most interesting conversations and learning opportunities.";
        details = `You didn't agree on any of the ${userAnswers.length} questions.`;
    }
    
    return { icon, level, description, details };
}

function showStatistics() {
    const percentage = calculateMatchPercentage();
    const matchInfo = getMatchInfo(percentage);
    
    // Update statistics UI
    matchPercentage.textContent = `${percentage}%`;
    matchLevel.textContent = matchInfo.level;
    matchDescription.textContent = matchInfo.description;
    matchDetails.textContent = matchInfo.details;
    statsIcon.textContent = matchInfo.icon;
    
    // Show statistics area, hide other areas
    questionArea.classList.add('hidden');
    responseArea.classList.add('hidden');
    statisticsArea.classList.remove('hidden');
}

function restartConversation() {
    currentQuestionIndex = 0;
    showingResponse = false;
    userAnswers = [];
    sessionAnsweredQuestions = 0;
    showQuestion();
}

function closeModal() {
    if (sessionAnsweredQuestions > 0) {
        updateSessionCount();
    }
    document.getElementById('modalOverlay').style.display = 'none';
}

function updateSessionCount() {
    const today = new Date().toDateString();
    let stats = JSON.parse(localStorage.getItem('reflectionStats') || '{}');
    if (!stats[today]) stats[today] = { count: 0 };
    stats[today].count++;
    localStorage.setItem('reflectionStats', JSON.stringify(stats));
    sessionCountSpan.textContent = stats[today].count;
}

// Initialize on load
window.addEventListener('load', () => {
    const today = new Date().toDateString();
    let stats = JSON.parse(localStorage.getItem('reflectionStats') || '{}');
    if (!stats[today]) stats[today] = { count: 0 };
    sessionCountSpan.textContent = stats[today].count;
});

// Close modal when clicking outside
document.getElementById('modalOverlay').addEventListener('click', (e) => {
    if (e.target.id === 'modalOverlay') closeModal();
});
</script>
</body>
</html>